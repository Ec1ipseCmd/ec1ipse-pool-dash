<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ec1ipse Mining Pool Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/highcharts-3d.js"></script>
</head>
<body>
    <div class="staking-multiplier-banner">
        <h2>Maximize Your Earnings<br> with a <span id="poolMultiplier" class="stat-number">Loading...</span>x Boost Multiplier!</h2>
        <p>Earn more with our increased boosted rewards!</p>
    </div>

    <br>
    <div class="container">
        <header class="header">
            <h1>Ec1ipse Mining Pool Dashboard</h1>
            <div class="header-actions">
                <button id="stakeTokensButton" onclick="window.open('https://stake.ec1ipse.me/', '_blank')">Stake Tokens</button>
                <button id="getStartedButton" onclick="window.open('https://gitbook.ec1ipse.me/', '_blank')">Get Started</button>
                <form id="searchForm" action="miner-info/miner" target="_blank" method="get" class="search-container">
                    <input type="text" name="pubkey" id="pubkey" placeholder="Enter Miner Public Key" required>
                    <button type="submit">Search</button>
                </form>
            </div>
        </header>

        <section>
            <h2>General Pool Statistics</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <h3 class="stat-label">Average Pool Hashrate (24hr)</h3>
                    <p id="averageHashrate" class="stat-number">Loading...</p>
                </div>
                <div class="stat-card">
                    <h3 class="stat-label">Total Active Miners</h3>
                    <p id="activeMiners" class="stat-number">Loading...</p>
                </div>
                <div class="stat-card">
                    <h3 class="stat-label">Latest Pool Difficulty</h3>
                    <p id="latestDifficulty" class="stat-number">Loading...</p>
                </div>
                <div class="stat-card">
                    <h3 class="stat-label">Highest 24hr Pool Difficulty</h3>
                    <p id="highestDayDifficulty" class="stat-number">Loading...</p>
                </div>
            </div>
        </section>

        <section>
            <h2>Mining Statistics</h2>
            <div class="mining-stats">
                <ul>
                    <li id="recent-txn">Loading...</li>
                </ul>
            </div>
        </section>

        <section>
            <h2>Reward Overview</h2>
            <div class="earnings-stats">
                <ul>
                    <li>24hr Earnings: <span class="stat-number" id="dayEarnings">Loading...</span> ORE</li>
                    <li>Total Rewards: <span class="stat-number" id="poolRewards">Loading...</span> ORE</li>
                    <li>Total Claimed Rewards: <span class="stat-number" id="claimedRewards">Loading...</span> ORE</li>
                    <li>Total Legacy Stake: <span class="stat-number" id="legacyStake">Loading...</span> ORE</li>
                </ul>
            </div>
        </section>

        <section>
            <h2>Boost Overview
                <button id="stakeTokensButton" onclick="window.open('https://stake.ec1ipse.me/', '_blank')">Stake Tokens</button>
            </h2>
            <div class="stake-stats">
                <!-- Responsive Table Wrapper -->
                <div class="table-responsive">
                    <table id="boostTable">
                        <thead>
                            <tr>
                                <th>Boost Name</th>
                                <th>Staked Balance</th>
                                <th>Total Stake Balance</th>
                                <th>Percentage of Total Stake (%)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Data Rows Go Here -->
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="pie-charts-container">
                <div id="oreChart" class="pie-chart"></div>
                <div id="oresolLpChart" class="pie-chart"></div>
                <div id="oreiscLpChart" class="pie-chart"></div>
            </div>
        </section>

        <section>
            <h2>Entry and Payout Details</h2>
            <div class="block-stats">
                <ul>
                    <li>Pool Commission: 5%</li>
                    <li>Pool Entry Fee: 0 Sol</li>
                    <li>Payout Cooldown: 30 minutes</li>
                    <li>Minimum Withdrawal: 0.005 ORE</li>
                </ul>
            </div>
        </section>

        <section>
            <h2>Mining Pool Software Version</h2>
            <div class="block-stats">
                <ul>
                    <li>Latest Client Version: <span class="stat-number" id="latestVersion">Loading...</span></li>
                    <li>Last Client Update: <span class="stat-number" id="latestVersionUpdate">Loading...</span></li>
                </ul>
            </div>
        </section>

        <section>
            <h2>Visualizations</h2>
            <div class="chart-row">
                <div class="chart-container">
                    <canvas id="difficultyHistogram"></canvas>
                </div>
                <div class="chart-container">
                    <canvas id="difficultyOverTime"></canvas>
                </div>
            </div>
        </section>
    </div>

    <footer class="footer">
        <div class="social-links">
            <a href="https://github.com/Ec1ipseCmd" target="_blank" aria-label="GitHub">
                <img src="images/github.png" alt="GitHub" class="social-icon">
            </a>
            <a href="https://twitter.com/ec1ipse_sol" target="_blank" aria-label="Twitter">
                <img src="images/twitter.png" alt="Twitter" class="social-icon">
            </a>
            <a href="https://discord.gg/S6TKPScPPD" target="_blank" aria-label="Discord">
                <img src="images/discord.png" alt="Discord" class="social-icon">
            </a>
        </div>
        <p>Ec1ipseÂ³</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="scripts.js"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-79WKLXY465"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-79WKLXY465');
    </script>
</body>
</html>
